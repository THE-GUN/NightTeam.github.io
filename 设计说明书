目录
1 引言	3
1.1 编写目的	3
1.2 命名规范	3
1.3 术语定义	3
1.4 参考资料	3
1.5 相关文档	4
1.6 版本更新信息	4
2 总体设计	4
2.1 硬件运行环境设计	4
2.2 软件运行环境设计	5
2.3 开发环境	5
2.4 子系统清单	5
2.5 功能模块清单	6
2.6 UML设计	6
3 功能模块设计	9
3.1 主要技术概述	9
3.2 页面设计说明	9
4 数据库设计	9
4.1 数据库表名列表	9
4.2 数据库表之间关系说明	10
4.3 数据库表的详细清单	10
4.4 视图设计	13
5 功能模块的详细设计/接口设计	13
5.1 登录功能	13
5.2 信息管理功能	14
5.3 汽车推荐功能	19
6 角色授权设计	20
7 系统出错处理设计	20
7.1 出错信息	21
7.2 故障预防与补救	21
7.3 系统维护设计	21
8 测试计划	22

























“汽车销售管理系统”软件设计说明书
1 引言 
1.1 编写目的
	在完成“汽车销售管理系统”需求分析的基础上，我们依据“汽车销售管理系统”的需求规格说明书对“汽车销售管理系统”进行设计。为了文档化对系统的设计，编写本文档。本文档主要供团队在具体实现“汽车销售管理系统”时参考使用。

	1.2 命名规范
		（1）数据库表名，字段名以小写的英文字母命名。
		（2）私有变量和共有变量均用用小写的英文字母或者*加英文字母命名。
		（3）所有的函数均用小写的英文字母开头。

1.3 术语定义
	C/S 结构，即大家熟知的客户机和服务器结构。它是软件系统体系结构，通过它可以充分利用两端硬件环境的优势，将任务合理分配到Client端和Server端来实现，降低了系统的通讯开销。目前大多数应用软件系统都是Client/Server形式的两层结构，由于现在的软件应用系统正在向分布式的Web应用发展，Web和Client/Server 应用都可以进行同样的业务处理，应用不同的模块共享逻辑组件；因此，内部的和外部的用户都可以访问新的和现有的应用系统，通过现有应用系统中的逻辑可以扩展出新的应用系统。

1.4 参考资料
[1].软件工程.《软件工程-理论与实践（第二版）》.2018年5期.李云翔.
[2].“汽车销售管理系统”的《软件开发计划书》.
[3].“汽车销售管理系统”的《需求规格说明书》.
[4].汽车销售系统.《计算机光盘软件与应用》.2011年24期.王阿媛.
[5].基于UML的汽车销售管理信息系统设计.《黑龙江科技信息》.2011年21期.张继瑜.
[6].基于WebGIS的汽车销售系统设计.《徐州教育学院学报》.2008年3期.王锋.刘爱国.
[7].宝马虚实案.《检察风云》.2012年8期.赵进一.姚培恒（图）.
[8].基于SaaS模式的汽车零部件销售系统设计.《桂林理工大学学报》.被中信所《中国科技期刊引证报告》收录ISTIC.被北京大学《中文核心期刊要目总览》收录PKU.2011年4期.谢晓兰.张克民.赵鹏.
[9].汽车销售电子商务平台的设计与实现.《农业装备与车辆工程》.2014年4期.王秀景.
[10].汽车销售企业的闭环供应链优化模式研究.《科技创新导报》.2014年19期.杨萌.
[11].探索基于.net和flash的程序架构.《福建电脑》.2010年3期.郁莉莉.
[12].基于B/S模式的汽车销售管理系统的设计与实现.《计算机应用研究》.被中信所《中国科技期刊引证报告》收录ISTIC.被北京大学《中文核心期刊要目总览》收录PKU.2003年8期.张学军.
[13].汽车销售分析与预测系统的设计与开发.《重庆大学学报(自然科学版)》.被中信所《中国科技期刊引证报告》收录ISTIC.被EI收录EI.被北京大学《中文核心期刊要目总览》收录PKU.2002年9期.李勇.肖智.陈玲.

1.5 相关文档 
[3].“汽车销售管理系统”的《需求规格说明书》.

1.6 版本更新信息
	版本更新记录如表1所示。
表1 版本更新记录
版本号	创建者	创建时间	维护者	维护日期	维护纪要
V1.0	汪思诚	2020-4-20	汪思诚	无	无
V2.0	汪思诚	2020-5-10	汪思诚	无	无

2 总体设计 
2.1 硬件运行环境设计 
	（1）服务器
		处理器型号：AMD或Intel1.8GHz以上
		内存容量：8GB及以上
	（2）客户机
		处理器型号：AMD或Intel1.8GHz以上
		内存容量：8GB及以上
		
2.2 软件运行环境设计 
	（1）服务器
		操作系统：Windows 10或Windows Server 2012 R2及以上版本系统。
		数据库：32位MySQL5.6.47版本或其他版本.
	（2）客户机
		操作系统：Windows 10或Windows Server 2012 R2及以上版本系统。
		数据库：32位MySQL5.6.47版本或其他版本.
		
2.3 开发环境
	（1）硬件环境
		本系统采用PC机开发，配置如下：
		* 处理器型号：AMD或Intel1.8GHz以上
		* 内存剩余空间：8GB及以上
		* 外存剩余空间：100GB及以上
	（2）软件环境
		1.服务器
			操作系统：Windows 10或Windows Server 2012 R2及以上版本系统。
			数据库：32位MySQL5.6.47版本或其他版本。
		2.客户机
			操作系统：Windows 10或Windows Server 2012 R2及以上版本系统。
			数据库：32位MySQL5.6.47版本或其他版本。

2.4 子系统清单
子系统清单如表2所示。
表2 子系统清单
子系统编号	子系统名称	子系统功能描述
SS1	登录	提供管理员和客户的登录的功能。
SS2	管理员界面	提供管理员汽车、员工、客户、销售信息管理的功能。
SS3	客户界面	即汽车推荐系统，以供客户进行汽车的筛选和购买。

2.5 功能模块清单 
功能模块清单如表3所示。
表3 功能模块清单
模块编号	模块名称	模块功能描述
SS1-1	管理员登录	管理员输入登录信息，进入管理员界面。
SS1-2	客户登录	客户输入登录信息，进入客户界面，即汽车推荐系统。
SS2-1	汽车信息管理	进入汽车信息管理界面，进行汽车信息的搜索、查询、添加和删除等操作。
SS2-2	客户信息管理	进入客户信息管理界面，进行汽车信息的搜索、查询、添加和删除等操作。
SS2-3	员工信息管理	进入员工信息管理界面，进行汽车信息的搜索、查询、添加和删除等操作。
SS2-4	销售信息管理	进入销售信息管理界面，进行汽车信息的搜索、查询、添加和删除等操作。
SS3-1	快捷选车	提供客户一块快捷选车的条件搜索。
SS3-2	排行榜	提供客户最新的汽车销售信息的排行榜，有销售排行、评论排行、减价排行和指数排行等。
SS3-3	系统推荐	提供客户系统测算出来的汽车推荐，其中推荐可以按照车的类型分为轿车、SUV、MPV、跑车、微面、皮卡和新能源等。
SS3-4	关于	本推荐系统的相关说明。
SS3-5	反馈	方便客户向本产品提供反馈信息。
SS3-6	购买信息	方便客户提交购买订单信息。

	2.6 UML设计
		（1）类图
系统类图如图4所示。
 
图4 类图

		（2）时序图
	系统时序图如图5所示。
 
图5.1管理时序图

 
图5.2购买时序图

		（3）状态图、活动图
	系统状态图如图6所示。
 
图6.1信息管理状态图

 
图6.2购买信息状态图

		系统活动图如图7所示。
 
图7登录活动图

3 功能模块设计 
3.1 主要技术概述 

3.2 页面设计说明 

4 数据库设计 
4.1 数据库表名列表
数据库中表名列表格式如图8所示。
表8 数据库中表名列表
编号	表名	表功能说明
1	tb_ads_login	管理员登录表
2	tb_user_login	用户登录表
3	tb_cars	汽车信息表
4	tb_clients	客户信息表
5	tb_sales	销售信息表
6	tb_staffs	员工信息表
7	tb_comments_list	评价排行榜表
8	tb_decline_list	降价排行榜表
9	tb_fast_choose	快捷选车表
10	tb_index_list	销售指数排行榜表
11	tb_sales_list	销售量排行榜表
4.2 数据库表之间关系说明 
数据库中表之间的关系如图9所示。

图9 数据库表之间的关系

4.3 数据库表的详细清单 
（1）cale_sale数据库表
tb_ads_login表如表9.1所示。
表9.1 tb_ads_login表
序号	字段名	数据类型	是否允许为空	主键/外键
1	用户名	varchar（10）	否	主键
2	密码	varchar（10）	是	

tb_user_login表如表9.2所示。
表9.2 tb_user_login表
序号	字段名	数据类型	是否允许为空	主键/外键
1	用户名	varchar（10）	否	主键
2	密码	varchar（10）	是	

tb_cars表如表9.3所示。
表9.3 tb_cars表
序号	字段名	数据类型	是否允许为空	主键/外键
1	汽车编号	varchar（10）	否	主键
2	型号	varchar（10）	是	
3	颜色	varchar（10）	是	
4	生产厂家	varchar（20）	是	
5	生产日期	varchar（10）	是	
6	价格	int（10）	是	

tb_clients表如表9.4所示。
表9.4 tb_clients表
序号	字段名	数据类型	是否允许为空	主键/外键
1	客户编号	varchar（10）	否	主键
2	姓名	varchar（10）	是	
3	联系方式	int（10）	是	
4	住址	varchar（20）	是	

tb_sales表如表9.5所示。
表9.5 tb_sales表
序号	字段名	数据类型	是否允许为空	主键/外键
1	客户编号	varchar（10）	否	主键
2	汽车编号	varchar（10）	否	主键
3	员工编号	varchar（10）	否	主键
4	销售日期	varchar（10）	是	
5	数量	int（10）	是	

tb_staffs表如表9.6所示。
表9.6 tb_staffs表
序号	字段名	数据类型	是否允许为空	主键/外键
1	员工编号	varchar（10）	否	主键
2	姓名	varchar（10）	是	
3	性别	varchar（4）	是	
4	年龄	int（4）	是	
5	学历	varchar（20）	是	

（2）car_recommendation数据库表
tb_comments_list表如10.1所示。
表10.1 tb_comments_list表
序号	字段名	数据类型	是否允许为空	主键/外键
1	排名	int（10）	否	主键
2	品牌	varchar（10）	是	
3	车型	varchar（10）	是	
4	价格	varchar（20）	是	

tb_decline_list表如10.2所示。
表10.2 tb_decline_list表
序号	字段名	数据类型	是否允许为空	主键/外键
1	排名	int（10）	否	主键
2	品牌	varchar（10）	是	
3	车型	varchar（10）	是	
4	价格	varchar（20）	是	

tb_fast_choose表如10.3所示。
表10.3 tb_fast_choose表
序号	字段名	数据类型	是否允许为空	主键/外键
1	品牌	varchar（10）	是	
2	车型	varchar（10）	是	
3	价格	varchar（10）	是	

tb_index_list表如10.4所示。
表10.4 tb_index_list表
序号	字段名	数据类型	是否允许为空	主键/外键
1	排名	int（10）	否	主键
2	品牌	varchar（10）	是	
3	车型	varchar（10）	是	
4	价格	varchar（20）	是	

tb_sales_list表如10.5所示。
表10.5 tb_sales_list表
序号	字段名	数据类型	是否允许为空	主键/外键
1	排名	int（10）	否	主键
2	品牌	varchar（10）	是	
3	车型	varchar（10）	是	
4	价格	varchar（20）	是	

4.4 视图设计
	本数据库设计无需视图。
5 功能模块的详细设计/接口设计
	5.1 登录功能
	本程序使用QApplication显示界面，通过QWidget创建不含菜单栏的界面，之后通过QMessageBox和QSqlQuery完成用户名和密码的匹配，随即完成登陆功能。
	该模块界面详情如图11所示。
 
图11.1 初始界面图

 
图11.2 客户登录界面图

 
图11.3 管理员登录界面图

5.2 信息管理功能
	本程序使用QApplication显示界面，通过QWidget创建不含菜单栏的界面，之后通过QMessageBox、QSqlError和QSqlRecord来连接数据库实现信息管理功能。
	该模块界面设计详情如图12所示。
 
图12.1 管理员界面图

 
图12.2 客户信息界面图

 
图12.3 汽车信息界面图

 
图12.4 销售信息界面图

 
图12.5 员工信息界面图

5.3 汽车推荐功能
	本程序使用QApplication显示界面，通过QMainWindow创建含菜单栏的界面，之后通过QSqlTableModel来创建数据表视图模型显示数据库数据表，利用数据库的查找功能实现客户所需要的汽车推荐功能。
	该模块界面设计详情如图13所示。
 
图13 客户界面图

6 角色授权设计
	角色授权表如表14所示。
表14 角色授权
模块	管理员	客户
登录	¤	¤
管理员界面	¤	
客户界面		¤

7 系统出错处理设计 
系统出错最严重的就是系统没有保证客户的用户名、密码和资金的安全性。为了从根本上解决这个问题，首先在编写前台和后台代码时就要注意编写的严密性，不能让不怀好意的人利用保留的攻击手段侵入系统，盗用、毁坏用户的信息，造成客户的损失。
7.1 出错信息
	用一览表的方式说明每一种可能出错的情况出现时，系统输出信息的形式、含义级处理的方法。
	由于输入信息不规范规定（如：汽车价格负数等），称之为软错误；
	由于硬件方面的错误（如：数据库连接超时、硬件出错等），称之为硬错误。
	对于一些关键的操作（如：删除操作）,应该提供确认机制；
	对于数据、测试文档，都是要提供相应的保密措施设置。
	出错信息一览表见表15。
表15 出错信息一览表
错误类型	子项	错误原因
数据库错误	连接	连接超时
		连接断开
	数据库本身	数据库代码错误
		数据库溢出
系统部分自定义错误	权限错误	管理员权限设置故障
	输入错误	用户名错误/为空
		密码错误/为空

7.2 故障预防与补救
	说明故障出现后可能采取的变通措施，主要包括：
		（1）对于软错误，需要在添加/删除操作中及时对输入数据进行验证，分析错误的类型，并且给出相应的错误提示语句，传送到客户端界面上。对于硬错误，错误类型较少而且目标明确，所以在可能出错的地方中输入相应的出错语句，并将程序重置，最后返回输入阶段。
		（2）后备技术说明准备采用的后备技术，当原始数据丢失时启用的副本的建立和启动的技术，例如周期性的把磁盘信息记录在案。
		（3）恢复及在启动技术说明将使用的恢复再启动技术，是软件从故障点恢复执行或是软件从开头开始重新开始运行的方法。

7.3 系统维护设计
		（1）编码实现时应采用模块化和分层的思想，提高模块内部的聚合，减少模块间的耦合。使系统逻辑结构清晰，从而增强可读性和可维护性。
		（2）面向数据和面向对象相结合，模块划分符合买面向对象思想。
		（3）在编码过程中注意标号符命名的意义，添加适量注释。
		（4）数据库维护：我们使用数据库的维护功能机制，比如，定期备份数据库、定期检测数据库的一致性、定期查看操作日志等。文件方面：对于下架的汽车等，定期删除相关文件，减少数据量。

8 测试计划 
	测试计划作为本系统的测试指导，测试成员按计划和规定进行测试。本系统的测试将从单元测试、集成测试、系统测试三个方面来设计。
